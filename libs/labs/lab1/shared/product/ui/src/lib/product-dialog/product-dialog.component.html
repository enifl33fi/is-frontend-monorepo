<lab1-product-form
  [coordinatesIds]="coordinatesIds()"
  [entity]="entity()"
  [manufacturerIds]="manufacturerIds()"
  [ownerIds]="ownerIds()"
  (handleForm)="updateProduct($event)"
></lab1-product-form>

<div class="tui-form__buttons">
  @if (!entity()) {
    <button
      appearance="primary"
      size="m"
      tuiButton
      class="tui-form__button"
      [disabled]="!formProductSignal()"
      [loading]="loadingSignal()"
      (click)="onAddClick()"
    >
      Add
    </button>
  } @else if (!locked()) {
    <button
      appearance="primary"
      size="m"
      tuiButton
      class="tui-form__button"
      [disabled]="!formProductSignal()"
      [loading]="loadingSignal()"
      (click)="onSaveChangesClick()"
    >
      Save changes
    </button>
  } @else {
    <button
      appearance="primary"
      size="m"
      tuiButton
      class="tui-form__button"
      (click)="onUpdateClick()"
    >
      Update
    </button>
  }

  <button
    appearance="secondary-destructive"
    size="m"
    tuiButton
    class="tui-form__button"
    [disabled]="loadingSignal()"
    (click)="onCloseClick()"
  >
    Close
  </button>
</div>
